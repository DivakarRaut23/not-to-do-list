(this["webpackJsonpreact-not-to-do-list"]=this["webpackJsonpreact-not-to-do-list"]||[]).push([[0],{51:function(e,t,n){},57:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(14),s=n.n(c),a=(n(50),n(51),n(8)),i=n(84),o=n(81),u=n(40),l=n(86),d=n(85),j=n(82),h=(n(57),n(19)),b=n(29),x=n(43),O=n(87),f=n(7),p=n.n(f),v=n(12),m=n(44),k=n(21),g=Object(k.b)({name:"task",initialState:{taskList:[],notToDoList:[],itemToDelete:[],totalHour:0,isPending:!1,status:"",message:""},reducers:{requestPending:function(e){e.isPending=!0},addTaskSuccess:function(e,t){e.isPending=!1,e.status=t.payload.status,e.message=t.payload.message},updateTaskSuccess:function(e,t){var n=t.payload;e.isPending=!1,e.status=n.status,e.message=n.message},deleteTaskSuccess:function(e,t){var n=t.payload;e.isPending=!1,e.status=n.status,e.message=n.message,"success"===n.status&&(e.itemToDelete=[])},setItemToDelete:function(e,t){var n=t.payload,r=n.checked,c=n.value;if(r)e.itemToDelete=[].concat(Object(m.a)(e.itemToDelete),[c]);else{var s=e.itemToDelete.filter((function(e){return e!==c}));e.itemToDelete=s}},fetchTaskSuccess:function(e,t){var n=t.payload,r=void 0===n?[]:n;e.isPending=!1,e.totalHour=r.reduce((function(e,t){return e+ +t.hr}),0),e.taskList=r.filter((function(e){return e.todo})),e.notToDoList=r.filter((function(e){return!e.todo}))},requestFail:function(e,t){var n=t.payload;e.isPending=!1,e.status="error",e.message=n}}}),T=g.reducer,w=g.actions,y=w.requestPending,D=w.addTaskSuccess,P=w.requestFail,S=w.fetchTaskSuccess,H=w.updateTaskSuccess,C=w.setItemToDelete,_=w.deleteTaskSuccess,A=T,L=n(18),N=n.n(L),F="http://localhost:5000/api/v1",q=function(e){return new Promise(function(){var t=Object(v.a)(p.a.mark((function t(n,r){var c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N.a.post(F,e);case 3:c=t.sent,console.log(c.data),n(c.data),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0),n({status:"error",message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n){return t.apply(this,arguments)}}())},I=function(e){return new Promise(function(){var t=Object(v.a)(p.a.mark((function t(n,r){var c,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N.a.delete(F,{data:e});case 3:c=t.sent,s=c.data,n(s),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0),n({status:"error",message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n){return t.apply(this,arguments)}}())},z=function(e){return new Promise(function(){var t=Object(v.a)(p.a.mark((function t(n,r){var c,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N.a.patch(F,{todo:e});case 3:c=t.sent,s=c.data,n(s),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0),n({status:"error",message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n){return t.apply(this,arguments)}}())},E=function(){return function(){var e=Object(v.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(y()),e.next=4,new Promise(function(){var e=Object(v.a)(p.a.mark((function e(t,n){var r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get(F);case 3:r=e.sent,c=r.data,t(c.result),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),t(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}());case 4:if(e.t0=e.sent,e.t0){e.next=7;break}e.t0=[];case 7:n=e.t0,t(S(n)),e.next=14;break;case 11:e.prev=11,e.t1=e.catch(0),t(P(e.t1.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},J=function(e){return function(){var t=Object(v.a)(p.a.mark((function t(n){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(y()),t.next=4,z(e);case 4:r=t.sent,n(H(r)),"success"===r.status&&n(E()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n(P(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},V=n(1),Y={title:"test",hr:10},B=function(){var e=Object(a.b)(),t=Object(a.c)((function(e){return e.task})).totalHour,n=Object(r.useState)(Y),c=Object(x.a)(n,2),s=c[0],i=c[1],l=function(e){var t=e.target,n=t.name,r=t.value;i(Object(b.a)(Object(b.a)({},s),{},Object(h.a)({},n,"hr"===n?+r:r)))};return Object(V.jsx)(O.a,{onSubmit:function(n){if(n.preventDefault(),s.hr+t>168)return alert("You are exhausting yourself, Your have exceeded more than 168 hrs ");var r;e((r=s,function(){var e=Object(v.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(y()),e.next=4,q(r);case 4:n=e.sent,t(D(n)),"success"===n.status&&t(E()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t(P(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()))},children:Object(V.jsxs)(o.a,{children:[Object(V.jsx)(u.a,{children:Object(V.jsx)(O.a.Control,{onChange:l,placeholder:"Task Name",value:s.title,name:"title"})}),Object(V.jsx)(u.a,{children:Object(V.jsx)(O.a.Control,{onChange:l,placeholder:"Number of hours",type:"number",value:s.hr,name:"hr"})}),Object(V.jsx)(u.a,{children:Object(V.jsx)(j.a,{type:"submit",variant:"primary",children:" Add"})})]})})},M=function(e){var t=e.totalHour;return Object(V.jsx)(V.Fragment,{children:Object(V.jsxs)(l.a,{show:t>0,variant:"success",children:["Total Allocated Hours: ",t,"/ Hours Remaining : ",168-t]})})},R=n(83),G=function(){var e=Object(a.b)(),t=Object(a.c)((function(e){return e.task})),n=t.taskList,r=t.itemToDelete;return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)("h2",{children:"Task list"}),Object(V.jsxs)(R.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(V.jsx)("thead",{children:Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"Task"}),Object(V.jsx)("th",{children:"Hours"}),Object(V.jsx)("th",{children:"Action"})]})}),Object(V.jsx)("tbody",{children:null===n||void 0===n?void 0:n.map((function(t){return Object(V.jsxs)("tr",{children:[Object(V.jsxs)("td",{children:[Object(V.jsx)("input",{onChange:function(t){return e(C(t.target))},defaultValue:t._id,type:"checkbox",checked:r.includes(t._id)}),"",Object(V.jsx)("label",{children:t.title})]}),Object(V.jsx)("td",{children:t.hr}),Object(V.jsx)("td",{children:Object(V.jsx)(j.a,{onClick:function(){return e(J({_id:t._id,todo:!1}))},children:" Mark As Not To "})})]},t._id)}))})]})]})},K=function(){var e=Object(a.b)(),t=Object(a.c)((function(e){return e.task})).notToDoList,n=t.reduce((function(e,t){return e+t.hr}),0);return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)("h2",{children:"Not to do Task"}),Object(V.jsxs)(R.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(V.jsx)("thead",{children:Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"Task"}),Object(V.jsx)("th",{children:"Hours"}),Object(V.jsx)("th",{children:"Action"})]})}),Object(V.jsxs)("tbody",{children:[null===t||void 0===t?void 0:t.map((function(t,n){return Object(V.jsxs)("tr",{children:[Object(V.jsxs)("td",{children:[Object(V.jsx)("input",{onChange:function(t){return e(C(t.target))},defaultValue:t._id,type:"checkbox"}),"",Object(V.jsx)("label",{children:t.title})]}),Object(V.jsx)("td",{children:t.hr}),Object(V.jsx)("td",{children:Object(V.jsx)(j.a,{onClick:function(){return e(J({_id:t._id,todo:!0}))},children:" Add to Task "})})]},t._id)})),Object(V.jsx)("tr",{children:Object(V.jsx)("td",{colSpan:"3",children:Object(V.jsxs)(l.a,{show:n>0,variant:"success",children:["Total Hours Saved : ",n]})})})]})]})]})},Q=function(){var e=Object(a.b)(),t=Object(a.c)((function(e){return e.task})),n=t.isPending,c=t.status,s=t.message,h=t.totalHour,b=t.itemToDelete;return Object(r.useEffect)((function(){e(E())}),[e]),Object(V.jsx)("div",{className:"App",children:Object(V.jsxs)(i.a,{children:[Object(V.jsx)(o.a,{children:Object(V.jsx)(u.a,{children:Object(V.jsxs)("div",{className:"text-center mt-5",children:[" ",Object(V.jsx)("h1",{children:" NOT TO DO LIST "})]})})}),Object(V.jsx)("hr",{}),Object(V.jsxs)("div",{children:[s&&Object(V.jsxs)(l.a,{variant:"success"===c?"success":"danger",children:[" ",s]}),n&&Object(V.jsx)(d.a,{animation:"border"})]}),Object(V.jsx)(B,{}),Object(V.jsx)("hr",{}),Object(V.jsxs)(o.a,{children:[Object(V.jsx)(u.a,{children:Object(V.jsx)(G,{})}),Object(V.jsx)(u.a,{children:Object(V.jsx)(K,{})})]}),Object(V.jsx)(o.a,{children:Object(V.jsx)(u.a,{children:Object(V.jsx)(j.a,{variant:"danger",onClick:function(){return e((t=b,function(){var e=Object(v.a)(p.a.mark((function e(n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!window.confirm("Are you sure want to delete the selected items? ")){e.next=8;break}return n(y()),e.next=5,I(t);case 5:r=e.sent,n(_(r)),"success"===r.status&&n(E());case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),n(P(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()));var t},children:" Delete "})})}),Object(V.jsxs)(o.a,{children:[Object(V.jsx)(u.a,{children:Object(V.jsx)(M,{totalHour:h})}),Object(V.jsx)(u.a,{})]})]})})},U=Object(k.a)({reducer:{task:A}});s.a.render(Object(V.jsx)(a.a,{store:U,children:Object(V.jsx)(Q,{})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.ad71a9a1.chunk.js.map